{"version":3,"sources":["webpack:///./API/apiService.js","webpack:///./HelperFunction/inputSubscriber.js","webpack:///./HelperFunction/clickSunscriber.js","webpack:///./HelperFunction/popup.js","webpack:///./Component/ScrollUp.js","webpack:///./HelperFunction/scroll.js","webpack:///./Component/LoadMoreBtn.js","webpack:///./store/createStrore.js","webpack:///./index.js","webpack:///./Component/FormSearch.js","webpack:///./Component/GalleryList.js","webpack:///./Component/CardItem.js","webpack:///./Component/Alert.js"],"names":["apiService","search","page","fetch","response","json","data","ok","Error","message","console","error","onInputChange","e","preventDefault","value","document","querySelector","trim","length","window","store","resetStore","root","innerHTML","setSearch","hits","total","update","updateTotal","render","clickSubscriber","src","target","tagName","getAttribute","basicLightbox","show","ScrollUp","upSelector","upElem","insertAdjacentHTML","style","opacity","addEventListener","documentElement","scrollTop","scrollTo","pageNumber","gallery","currentPortion","onAddCard","addPageNumber","valueStore","cards","count","selector","state","component","map","card","props","webformatURL","largeImageURL","likes","views","comments","downloads","join","querySelectorAll","forEach","item","GalleryList","btn","remove","btnAdd","scrollIntoView","block","behavior","LoadMoreBtn","setTimeout","inputRef","focus","select","Alert"],"mappings":"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","file":"main.837db19ccf3afb134529.js","sourcesContent":["\nconst API_KEY = '21940379-165654ee27b0a15257d8ffa36';\nexport const apiService = async (search, page = 1) => {\n try{\n   let response  = await fetch(`https://pixabay.com/api/?\n   &orientation=\"horizontal\n   &image_type=photo\n   &q=${search}\n   &page=${page}\n   &per_page=12\n   &key=${API_KEY}\n`)\n   const data = await response.json()\n   if (!response.ok) {\n     throw new Error(data.message || 'Something wrong')\n   }\n\n   return data\n }catch (e) {\n    console.error(e)\n }\n\n}\n\n","import debounce from 'lodash/debounce';\nimport { apiService } from '../API/apiService';\nimport { render } from '../index';\nimport {root} from '../index';\n\nconst onInputChange =async (e) => {\n  e.preventDefault()\n  const value = document.querySelector('.form-control').value.trim()\n  if (value.length === 0) return\n\n  let valueStore = window.store.search\n\n  if (valueStore !== value){\n    window.store.resetStore()\n    root.innerHTML = ''\n    window.store.setSearch(value)\n    const {hits, total} = await apiService(value)\n    window.store.update(hits)\n    window.store.updateTotal(total)\n    render()\n  }\n}\n\nexport const inputSubscriber = (selector) => {\n  const inputRef = document.querySelector(selector)\n\n  inputRef.addEventListener('submit', onInputChange)\n\n}\n","import { popup } from './popup';\n\n\nexport const clickSubscriber = (e) => {\n  const target  = e.target\n  if (target.tagName !== 'IMG'){\n    return\n  }\n  popup(target.getAttribute('path'))\n}\n","import * as basicLightbox from 'basiclightbox'\n\nexport const popup = (src) => {\n  const instance = basicLightbox.create(`\n    <img src=\"${src}\" width=\"800\" height=\"600\">\n    `)\n\n  instance.show()\n}\n","import { appLog } from '../HelperFunction/scroll';\n\nexport const ScrollUp = (root) => {\n  const component = `<div class=\"scroll-up text-primary\">\n                            <i class=\"bi bi-arrow-up-square\"></i>\n                         </div>`\n  root.insertAdjacentHTML('afterend',component)\n  appLog('.scroll-up')\n}\n\n","\nexport const appLog = (upSelector) => {\n  const upElem = document.querySelector(upSelector);\n  upElem.style.opacity = 0;\n  window.addEventListener('scroll', () => {\n\n    if (document.documentElement.scrollTop > 1000) {\n      upElem.style.opacity = 1;\n    } else {\n      upElem.style.opacity = 0;\n    }\n  });\n  upElem.addEventListener('click', () => window.scrollTo(0, 0))\n};\n\n\n\n\nexport const scrollDown = (hiddenElement) => {\n  hiddenElement.scrollIntoView({block: \"center\", behavior: \"smooth\"});\n\n}\n","import { apiService } from '../API/apiService';\nimport { render} from '../index';\nimport { ScrollUp } from './ScrollUp';\nimport { scrollDown } from '../HelperFunction/scroll';\n\nconst onAddCard = async () => {\n  window.store.addPageNumber()\n  let pageNumber = window.store.pageNumber\n  let valueStore = window.store.search\n    const data = await apiService(valueStore,pageNumber)\n    window.store.update(data.hits)\n    render()\n}\n\n\n\n\n\nexport const LoadMoreBtn = (root) => {\n\n\n  const btn = document.querySelector('.add-card')\n\n  if(window.store.total === window.store.gallery.length){\n    btn?.remove()\n    return;\n  }\n\n\n\n  if (window.store.total < 12) {\n    if(btn){\n      btn.remove()\n    }\n    return;\n  }\n  if(btn){\n    return\n  }\n\n\n  const component = `<button type=\"button\" class=\"btn btn-primary add-card\">Load More</button>`\n  root.insertAdjacentHTML('afterend',component)\n  ScrollUp(root)\n  const  btnAdd = document.querySelector('.add-card')\n\n  btnAdd?.addEventListener('click', async () => {\n   await onAddCard()\n    scrollDown(btnAdd)\n  })\n\n}\n\n\n","export const createStore=() =>{\n  let search = ''\n  let pageNumber = 1\n  let gallery = []\n  let currentPortion = []\n  let total = 0;\n  return {\n    get total(){\n      return total\n    },\n    get currentPortion(){\n      return currentPortion\n    },\n    get gallery() {\n      return gallery\n    },\n    get pageNumber(){\n      return pageNumber\n    },\n    get search(){\n      return search\n    },\n    update(cards) {\n      gallery = [...gallery, ...cards]\n      currentPortion = [...cards]\n    },\n    setSearch(value){\n      search = value\n    },\n    addPageNumber(){\n      pageNumber++\n    },\n    updateTotal(count){\n      total = count\n    },\n    resetStore(){\n      search = ''\n      pageNumber = 1\n      gallery = []\n      currentPortion = []\n    },\n\n  }\n}\n","import './styles.scss';\nimport { FormSearch } from './Component/FormSearch';\nimport { GalleryList } from './Component/GalleryList';\nimport { LoadMoreBtn } from './Component/LoadMoreBtn';\nimport { createStore } from './store/createStrore';\nimport {Alert} from './Component/Alert';\n\nwindow.store = createStore()\n\n\nexport const root = document.querySelector('#root')\n\nFormSearch(root)\n\nexport const render = () => {\n  if(window.store.total === 0){\n    Alert(root)\n    return\n  }\n  GalleryList(root)\n  LoadMoreBtn(root)\n}\n\n\n\n\n\n\n\n","import { inputSubscriber } from '../HelperFunction/inputSubscriber';\n\nexport const FormSearch = (root) => {\n  const component = `\n    <nav class=\"navbar navbar-light bg-light\">\n        <div class=\"container-fluid\">\n                <div class=\"input-group\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">\n                            <i class=\"bi bi-search\"></i>\n                        </span>\n                        <form class=\"search-form d-flex\" id=\"search-form\">\n                            <input\n                             type=\"text\"\n                             class=\"form-control\"\n                             name=\"query\"\n                             autocomplete=\"off\"\n                             placeholder=\"Search images...\"\n                            />\n                        </form>\n                         <h1 class=\"navbar-text ms-5 fs-6 text-primary\">\n                               Searching images APP\n                         </h1>\n                  </div>\n        </div>\n    </nav>\n  `;\n  root.insertAdjacentHTML('beforebegin', component);\n  inputSubscriber('.search-form')\n};\n\n","import { CardItem } from './CardItem';\nimport { clickSubscriber } from '../HelperFunction/clickSunscriber';\n\nexport const GalleryList= (root) => {\n\n  const state = window.store.currentPortion\n\n  if (state.length === 0){\n    return\n  }\n\n  const cardItems = state.map(card => CardItem(card)).join(' ');\n  const component = `\n    <ul class=\"gallery\">\n         ${cardItems}\n    </ul>\n  `;\n\n  root.insertAdjacentHTML('beforeend', component);\n\n\n\n\n\n  const listRef = document.querySelectorAll('.imageItem')\n  listRef.forEach(item => item.addEventListener('click', (e) => clickSubscriber(e)))\n};\n'largeImageUR'\n"," export const CardItem = (props) => {\n  const {webformatURL, largeImageURL, likes, views, comments, downloads} = props\n\n\n  const Item = `<li class='imageItem' style=\"width: 24.5%;\">\n                        <img src='${webformatURL}' class=\"card-img-top\" alt=\"card\" path=${largeImageURL} height=\"180\">\n                            <div class=\"card-body\">\n                                <ul class=\"card-items\">\n                                 <li>\n                                         <div class=\"group\">\n                                            <span class=\"group-text\">${likes}</span>\n                                            <span class=\"group-text\">\n                                                <i class=\"bi bi-hand-thumbs-up\"></i>\n                                            </span>\n                                        </div>\n                                 </li>\n                                 <li>\n                                         <div class=\"group\">\n                                            <span class=\"group-text\">${views}</span>\n                                            <span class=\"group-text\">\n                                                <i class=\"bi bi-tv\"></i>\n                                            </span>\n                                        </div>\n                                 </li>\n                                  <li>\n                                         <div class=\"group\">\n                                            <span class=\"group-text\">${comments}</span>\n                                            <span class=\"group-text\">\n                                                <i class=\"bi bi-chat-right-text\"></i>\n                                            </span>\n                                        </div>\n                                 </li>\n                                 <li>\n                                         <div class=\"group\">\n                                            <span class=\"group-text\">${downloads}</span>\n                                            <span class=\"group-text\">\n                                                <i class=\"bi bi-download\"></i>\n                                            </span>\n                                        </div>\n                                 </li>\n                                </ul>\n                            </div>\n                    </li>`\nreturn Item\n}\n\n","\nexport const Alert = (root) => {\n\n\n  const component = `<div class=\"alert alert-danger\" role=\"alert\">\n                          Please check your request\n                    </div>`\n  root.insertAdjacentHTML('beforebegin', component);\n\n  setTimeout(()=>{\n    document.querySelector('.alert-danger')?.remove()\n    const inputRef = document.querySelector('.form-control')\n    inputRef.focus()\n    inputRef.select()\n\n  }, 2000)\n\n}\n"],"sourceRoot":""}